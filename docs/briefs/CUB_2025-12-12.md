# COMMAND UPDATE BRIEF

**Date:** 2025-12-12
**System:** Prometheus Course Generation System v2.0
**Prepared For:** Sarah (Controller/Architect/Strategist)
**Prepared By:** Claude Code (CC)

---

## 1. EXECUTIVE SUMMARY

Prometheus 2.0 is in **Early Development / Foundation Phase** with a functional React frontend (Login, Define, Design pages operational) and fully scaffolded backend infrastructure. The system is architecturally sound with comprehensive governance documentation in place. Current priority should be completing the frontend pages (Build, Export, Format) and beginning Phase 2 interactive functionality for the Design page before connecting to the backend.

**Critical Note:** The repository is currently in an **interrupted rebase state** with uncommitted changes from Session 3 (Issue Fixes). This should be resolved before proceeding with new development work.

---

## 2. REPOSITORY STRUCTURE

```
Prometheus2.0/
├── .claude/                     # Claude Code configuration
├── .git/                        # Git repository (IN REBASE STATE)
├── .github/                     # GitHub Actions workflows
│
├── CLAUDE.md                    # Project context for CC (7.7KB)
├── CLAUDE_PROTOCOL.md           # Task execution protocol (18KB)
├── UI_DOCTRINE.md               # Immutable UI frame definitions (5.3KB)
├── README.md                    # Project overview (938B)
├── STATUS.md                    # Project status tracker (4.4KB, modified)
│
├── core/                        # PKE, generation engine and API
│   ├── api/
│   │   ├── __init__.py
│   │   └── main.py             # FastAPI entry (EMPTY)
│   ├── formatting/
│   │   └── __init__.py         # PLACEHOLDER
│   ├── generation/
│   │   └── __init__.py         # PLACEHOLDER
│   ├── importers/
│   │   ├── __init__.py
│   │   └── scalar_xlsx.py      # SCALAR importer (236 lines, FUNCTIONAL)
│   ├── models/
│   │   ├── __init__.py
│   │   └── course.py           # Course data models (148 lines, FUNCTIONAL)
│   ├── pke/
│   │   └── __init__.py         # PLACEHOLDER
│   └── README.md
│
├── docs/                        # Architecture and governance
│   ├── architecture-overview.md
│   ├── chronicle-schema.md
│   ├── chronicle-system.md
│   ├── import-scalar.md
│   ├── ISSUES_LOG.md           # NEW - Issue tracking (untracked)
│   ├── memory-framework.md
│   ├── prometheus-constitution.md
│   ├── Prometheus_Development_Order_v1.docx
│   ├── safety-governance.md
│   ├── workflows-overview.md
│   └── briefs/                  # Sarah briefing documents (6 files)
│       ├── SARAH_BRIEF_audit_2025-12-08.md
│       ├── SARAH_BRIEF_describe-phase2_2025-12-08.md
│       ├── SARAH_BRIEF_describe-refinements_2025-12-08.md
│       ├── SARAH_BRIEF_design-phase1_2025-12-08.md
│       ├── SARAH_BRIEF_design-phase1-complete_2025-12-09.md
│       └── SARAH_BRIEF_grid-system_2025-12-08.md
│
├── orchestrator/                # Multi-agent orchestration
│   ├── agents/
│   │   ├── __init__.py
│   │   ├── claude_adapter.py   # Claude integration (SCAFFOLDED)
│   │   ├── sarah_adapter.py    # Sarah integration (SCAFFOLDED)
│   │   └── tools_adapter.py    # Tools integration (SCAFFOLDED)
│   ├── chronicle_agent.py      # Chronicle logging (81 lines, FUNCTIONAL)
│   ├── logs/                    # EMPTY
│   ├── routes/
│   │   └── __init__.py         # PLACEHOLDER
│   ├── schemas/
│   │   ├── __init__.py
│   │   └── task_schema_example.yaml
│   └── README.md
│
├── prometheus-ui/               # React frontend (PRIMARY)
│   ├── dist/                    # Production build
│   ├── node_modules/            # Dependencies installed
│   ├── src/
│   │   ├── App.jsx             # Main app (325 lines)
│   │   ├── App.css
│   │   ├── main.jsx            # React entry
│   │   ├── index.css           # Global styles (MODIFIED)
│   │   ├── assets/             # Images (logo, PKE button)
│   │   ├── components/
│   │   │   ├── DebugGrid.jsx   # Debug overlay (MODIFIED)
│   │   │   ├── GradientBorder.jsx
│   │   │   ├── Header.jsx
│   │   │   ├── Navigation.jsx  # (MODIFIED - LF/CRLF)
│   │   │   ├── PKEInterface.jsx
│   │   │   └── StatusBar.jsx
│   │   ├── constants/
│   │   │   └── layout.js       # Layout constants
│   │   ├── hooks/
│   │   │   └── useViewportScale.js  # Viewport scaling
│   │   └── pages/
│   │       ├── Describe.jsx    # Define page (MODIFIED)
│   │       └── Design.jsx      # Design page
│   ├── MOCKUP_SPECS.md
│   ├── package.json
│   ├── tailwind.config.js
│   └── vite.config.js
│
└── ui/                          # Prototypes and design assets
    ├── Mockups/
    │   ├── 2.0 Mockup.pptx     # Original mockups (MODIFIED)
    │   ├── 2.1 Mockup.pptx     # NEW (untracked)
    │   └── Prometheus SilverGreen Logo.png
    └── streamlit-prototype/
        └── app.py              # Streamlit prototype
```

---

## 3. COMPONENT STATUS

| Component | Location | Status | Notes |
|-----------|----------|--------|-------|
| **Login Page** | prometheus-ui/src/App.jsx | FUNCTIONAL | Viewport scaling, form works |
| **Define Page** | prometheus-ui/src/pages/Describe.jsx | FUNCTIONAL + REFINED | Session 3 fixes applied |
| **Design Page** | prometheus-ui/src/pages/Design.jsx | FUNCTIONAL | Phase 1 complete (static layout) |
| **Build Page** | prometheus-ui/src/App.jsx | PLACEHOLDER | "Coming Soon" only |
| **Export Page** | prometheus-ui/src/App.jsx | PLACEHOLDER | "Coming Soon" only |
| **Format Page** | prometheus-ui/src/App.jsx | PLACEHOLDER | "Coming Soon" only |
| **PKE Interface** | prometheus-ui/src/components/PKEInterface.jsx | SCAFFOLDED | Visual only, no backend |
| **DebugGrid** | prometheus-ui/src/components/DebugGrid.jsx | ENHANCED | Ctrl+G toggle, mouse coords |
| **Viewport Scaling** | prometheus-ui/src/hooks/useViewportScale.js | FUNCTIONAL | Scales from 1920px down |
| **GradientBorder** | prometheus-ui/src/components/GradientBorder.jsx | FUNCTIONAL | Reusable border component |
| **Header** | prometheus-ui/src/components/Header.jsx | FUNCTIONAL | Course info cluster |
| **StatusBar** | prometheus-ui/src/components/StatusBar.jsx | FUNCTIONAL | Fixed Y=910px |
| **Navigation** | prometheus-ui/src/components/Navigation.jsx | FUNCTIONAL | 5 nav buttons |
| **FastAPI Backend** | core/api/main.py | EMPTY | Entry point only |
| **PKE Engine** | core/pke/__init__.py | PLACEHOLDER | Not implemented |
| **Generation Engine** | core/generation/__init__.py | PLACEHOLDER | Not implemented |
| **Formatting Engine** | core/formatting/__init__.py | PLACEHOLDER | Not implemented |
| **SCALAR Importer** | core/importers/scalar_xlsx.py | FUNCTIONAL | 236 lines, parses XLSX |
| **Course Models** | core/models/course.py | FUNCTIONAL | Full dataclass hierarchy |
| **Chronicle Agent** | orchestrator/chronicle_agent.py | FUNCTIONAL | JSONL logging system |
| **Agent Adapters** | orchestrator/agents/*.py | SCAFFOLDED | Interface only |

---

## 4. RECENT CHANGES

### Commit History (Last 10)
| Hash | Message | Theme |
|------|---------|-------|
| 41245b9 | Latest LF to CRLF changes | Line ending normalization |
| ab8eb64 | Phase 1 latest corrections applied | UI fixes |
| a48d6cb | Design Phase 1 updates | Design page |
| 54068ec | Phase 1 & 2 Prometheus 2.0 | Major milestone |
| f2129e7 | Add GitHub Actions workflow | CI/CD |
| 382dec1 | New Mockup pptx added | Design assets |
| d8b8c06 | Add files via upload | File additions |
| fa8d040 | Foundational Documentation Phase 1 | Docs |
| b258898 | chore: scaffold Prometheus2.0 monorepo | Initial scaffold |
| d4a3ae4 | Create README.md | Initial commit |

**Last Commit:** 41245b9 - "Latest LF to CRLF changes"
**Branch:** main
**Uncommitted Changes:** YES - See Section 5

### Uncommitted Work (Session 3 - 2025-12-10)
| File | Change Type | Description |
|------|-------------|-------------|
| STATUS.md | Modified | Session 3 status updates |
| prometheus-ui/src/components/DebugGrid.jsx | Modified | Mouse coordinate repositioning |
| prometheus-ui/src/components/Navigation.jsx | Modified | LF→CRLF line endings |
| prometheus-ui/src/index.css | Modified | Box-shadow/outline removal |
| prometheus-ui/src/pages/Describe.jsx | Modified | Row-based flexbox refactor |
| ui/Mockups/2.0 Mockup.pptx | Modified | Design updates |
| docs/ISSUES_LOG.md | NEW | Issue tracking (untracked) |
| ui/Mockups/2.1 Mockup.pptx | NEW | New mockup (untracked) |

**Repository State:** INTERRUPTED REBASE
**Stashed Changes:** None

---

## 5. KNOWN FAULTS & ISSUES

### Critical
| Issue | Description | Impact |
|-------|-------------|--------|
| Interrupted Rebase | Repository in rebase state (`git rebase --continue` needed) | Blocks clean commits |

### Resolved Issues (Session 3)
| ID | Issue | Status |
|----|-------|--------|
| #001 | Mouse coordinates off-screen | RESOLVED |
| #002 | Thick/bevelled borders on inputs | RESOLVED |
| #003 | Labels not vertically aligned | RESOLVED |

### Open TODOs
No explicit TODO/FIXME/HACK comments found in codebase.

### Technical Debt
| Item | Location | Description |
|------|----------|-------------|
| Placeholder pages | App.jsx | Build, Export, Format are stub components |
| Empty __init__.py | core/*/pke,formatting,generation | Backend modules not implemented |
| Empty main.py | core/api/main.py | FastAPI not configured |
| Static Design page | Design.jsx | Phase 2 interactivity pending |
| No authentication | App.jsx | Login form visual only, no backend auth |
| No data persistence | All pages | No backend connection |

### Scaffolded Components (Not Yet Functional)
- `core/api/main.py` - Empty FastAPI application
- `core/pke/__init__.py` - Knowledge Engine placeholder
- `core/generation/__init__.py` - Generation Engine placeholder
- `core/formatting/__init__.py` - Formatting Engine placeholder
- `orchestrator/routes/__init__.py` - API routes placeholder
- `orchestrator/agents/*.py` - Agent adapters (interface only)

---

## 6. GOVERNANCE DOCUMENTATION STATUS

| Document | Last Updated | Status | Issues |
|----------|--------------|--------|--------|
| CLAUDE.md | 2025-12-08 | Current | Structure accurate, gaps noted |
| CLAUDE_PROTOCOL.md | 2025-12-10 | Current | Full task protocol defined |
| UI_DOCTRINE.md | 2025-12-08 | Current | Frame definitions immutable |
| STATUS.md | 2025-12-10 | Modified | Uncommitted Session 3 updates |
| docs/architecture-overview.md | 2025-12-04 | Outdated | References Next.js (now React+Vite) |
| docs/prometheus-constitution.md | 2025-12-04 | Current | Core governance valid |
| docs/memory-framework.md | 2025-12-04 | Current | PKE design documented |
| docs/chronicle-system.md | 2025-12-04 | Current | Logging system documented |
| docs/ISSUES_LOG.md | 2025-12-10 | Current | NEW - Not committed |

### Documentation Gaps/Issues
1. **architecture-overview.md** references "Next.js UI (Vercel)" but actual implementation is React + Vite
2. **No Python dependency file** - `requirements.txt` or `pyproject.toml` missing
3. **No .env.example** - Environment configuration not documented

---

## 7. DEPENDENCIES & ENVIRONMENT

### Frontend (prometheus-ui/package.json)
| Package | Version | Purpose |
|---------|---------|---------|
| react | ^19.2.0 | UI framework |
| react-dom | ^19.2.0 | React DOM |
| vite | ^7.2.4 | Build tool |
| tailwindcss | ^4.1.17 | CSS framework |
| eslint | ^9.39.1 | Linting |
| @vitejs/plugin-react | ^5.1.1 | Vite React plugin |

**Status:** All dependencies installed (`node_modules/` present)

### Backend
| Component | Status |
|-----------|--------|
| requirements.txt | MISSING |
| pyproject.toml | MISSING |
| .env / .env.example | MISSING |
| Python version | Not specified |

**Required Python Packages (inferred from imports):**
- `openpyxl` (scalar_xlsx.py)
- `fastapi` (api/main.py - planned)
- Standard library: `dataclasses`, `datetime`, `pathlib`, `json`, `uuid`, `re`, `typing`

### Environment Concerns
1. No Python dependency management file exists
2. No environment variable documentation
3. Backend not runnable without setup documentation

---

## 8. OUTSTANDING WORK

### Stage 1: Frontend Completion
| Task | Priority | Complexity | Status |
|------|----------|------------|--------|
| Commit Session 3 changes | Critical | Low | Blocked by rebase |
| Build page layout | High | Medium | Not started |
| Export page layout | High | Medium | Not started |
| Format page layout | High | Medium | Not started |

### Stage 2: Design Page Interactivity
| Task | Priority | Complexity | Status |
|------|----------|------------|--------|
| State architecture design | High | High | Not started |
| Input → list population | High | Medium | Not started |
| Auto-numbering system | Medium | Medium | Not started |
| Click-to-edit functionality | Medium | Medium | Not started |
| Delete functionality | Medium | Low | Not started |
| Drag-to-reorder | Low | High | Not started |
| Module management | Medium | High | Not started |

### Stage 3: Backend Development
| Task | Priority | Complexity | Status |
|------|----------|------------|--------|
| Create requirements.txt | High | Low | Not started |
| Implement FastAPI routes | High | Medium | Not started |
| Connect frontend to API | High | Medium | Not started |
| Implement PKE engine | High | High | Not started |

### Stage 4: Integration
| Task | Priority | Complexity | Status |
|------|----------|------------|--------|
| Authentication system | Medium | Medium | Not started |
| Data persistence | High | Medium | Not started |
| SCALAR import integration | Medium | Medium | Partially ready |

---

## 9. BLOCKERS

| Blocker | Type | Impact | Resolution |
|---------|------|--------|------------|
| Interrupted rebase | Technical | Cannot cleanly commit | Run `git rebase --continue` or `git rebase --abort` |
| No Python deps file | Technical | Backend not runnable | Create requirements.txt |
| Architecture doc outdated | Documentation | May cause confusion | Update to reflect React+Vite |
| No .env documentation | Technical | Environment setup unclear | Create .env.example |

---

## 10. RECOMMENDED PRIORITIES

### Immediate (Today)
1. **Resolve rebase state** - Either continue or abort the current rebase
2. **Commit Session 3 changes** - Finalize the uncommitted work
3. **Add docs/ISSUES_LOG.md to tracking** - Currently untracked

### Short Term (Next Session)
4. **Create requirements.txt** - Document Python dependencies
5. **Update architecture-overview.md** - Correct Next.js → React+Vite references
6. **Create .env.example** - Document expected environment variables

### Medium Term (This Phase)
7. **Complete Build/Export/Format pages** - Static layouts matching mockups
8. **Design state architecture** - Before implementing Design page interactivity
9. **Begin Phase 2 Design work** - Interactive functionality

### Deferred
10. **Backend implementation** - After frontend is stable
11. **PKE engine development** - After core API is functional
12. **Authentication system** - After basic data flow works

---

## APPENDIX A: File Modification Summary

### Modified Files (Uncommitted)
```
STATUS.md                                  | 166 +++++++++++-----------------
prometheus-ui/src/components/DebugGrid.jsx |  19 +++-
prometheus-ui/src/components/Navigation.jsx| LF→CRLF warning
prometheus-ui/src/index.css                |  10 +-
prometheus-ui/src/pages/Describe.jsx       | 171 ++++++++++++++------------
ui/Mockups/2.0 Mockup.pptx                 | binary
4 files changed, 186 insertions(+), 180 deletions(-)
```

### Untracked Files
```
docs/ISSUES_LOG.md
ui/Mockups/2.1 Mockup.pptx
```

---

## APPENDIX B: Governance Quick Reference

### Immutable Frame Elements (UI_DOCTRINE.md)
- **Top Frame:** Logo, title, course info, top line, nav band (Y=0 to ~180px)
- **Mid Frame:** PKE interface, `< + >` buttons, action buttons
- **Bottom Frame:** Bottom line (Y=875px), status bar (Y=915px)

### Protocol Requirements (CLAUDE_PROTOCOL.md)
- 7-phase task execution (Receive → Confirm → Plan → Await → Execute → Escalate → Complete)
- Mandatory approval gates before execution
- Post-step verification (Specific, Functional, Regression)
- Retry limits: Simple=3, Moderate=2, Complex=1 per step

### Team Roles
- **Founder (Matthew):** Final authority, mission owner
- **Controller (Sarah):** Architect, strategist, reviewer
- **Engineer (Claude Code):** Large-scale changes, new features
- **Fixer (Codex/Cursor):** Small edits, quick refactors

---

*CUB generated following CLAUDE_PROTOCOL.md*

**Document Control:**
- Generated: 2025-12-12
- Generator: Claude Code (CC)
- Classification: Internal Development Brief
